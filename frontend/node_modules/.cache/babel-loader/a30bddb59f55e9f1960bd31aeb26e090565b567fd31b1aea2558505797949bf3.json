{"ast":null,"code":"import _slicedToArray from\"/home/abhinav/ALL PROJECTS/attendancesystemiiitu/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from'react';import{useState,useEffect}from'react';import Button from'@mui/material/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ViewEnrollRequest(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),enrollRequests=_useState2[0],setEnrollRequests=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),r=_useState4[0],setR=_useState4[1];useEffect(function(){fetch('http://127.0.0.1:4500/api/getEnrollRequest',{method:'GET',headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(res){console.log(res);if(res.success===true){setEnrollRequests(res.requests);console.log(enrollRequests);}});},[r]);var handleApprove=function handleApprove(requestNo){fetch(\"http://127.0.0.1:4500/api/changeEnrollRequestStatus/\".concat(requestNo),{method:'GET',headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(setR(!r));};var enrollRequestLength=enrollRequests.length;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100%\",padding:\"2%\"},children:[enrollRequestLength===0&&/*#__PURE__*/_jsx(\"div\",{children:\"No New Enroll Request's\"}),enrollRequests.map(function(request,key){return/*#__PURE__*/_jsxs(\"div\",{style:{borderBottom:\"2px solid grey\",width:\"100%\",marginBottom:\"10px\"},children:[/*#__PURE__*/_jsx(\"b\",{children:\"Request No. - \"}),\" \",request.requestNo,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"Name - \"}),\" \",request.name,\"    \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"Age - \"}),\" \",request.age,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"Username - \"}),\" \",request.username,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"Password - \"}),\" \",request.password,\"  \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"Courses To be Enrolled In :- \"}),\" \",request.coursesToBeEnrolledIn.map(function(course,key){return/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:\"13%\"},children:[key+1,\". \",course]},key);}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",style:{marginRight:\"2%\",marginBottom:\"2%\",marginTop:\"1%\"},onClick:function onClick(){return handleApprove(request.requestNo);},children:\"Approve\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",style:{marginBottom:\"2%\",marginTop:\"1%\"},onClick:function onClick(){return handleApprove(request.requestNo);},children:\"Discard\"})]},key);})]})});}","map":{"version":3,"names":["React","useState","useEffect","Button","ViewEnrollRequest","enrollRequests","setEnrollRequests","r","setR","fetch","method","headers","then","res","json","console","log","success","requests","handleApprove","requestNo","enrollRequestLength","length","width","padding","map","request","key","borderBottom","marginBottom","name","age","username","password","coursesToBeEnrolledIn","course","marginLeft","marginRight","marginTop"],"sources":["/home/abhinav/ALL PROJECTS/attendancesystemiiitu/frontend/src/components/adminViewEnrollR.js"],"sourcesContent":["import * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport Button from '@mui/material/Button';\n\n\nexport default function ViewEnrollRequest() {\n\n    const [enrollRequests, setEnrollRequests] = useState([]);\n    const [r,setR] = useState(false);\n\n\n    useEffect(() => {\n        fetch('http://127.0.0.1:4500/api/getEnrollRequest', {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(res => res.json())\n            .then((res) => {\n                console.log(res);\n                if (res.success === true) {\n                    setEnrollRequests(res.requests)\n                    console.log(enrollRequests)\n                }\n            })\n\n    }, [r])\n\n\n    const handleApprove = (requestNo)=>{\n        fetch(`http://127.0.0.1:4500/api/changeEnrollRequestStatus/${requestNo}`,{\n            method:'GET',\n            headers: {\n                'Content-Type':'application/json'\n            }\n        })\n        .then(res=>res.json())\n        .then(\n            setR(!r)\n        )\n    }\n    const enrollRequestLength = enrollRequests.length\n\n\n    return (\n        <>\n            <div style={{ width: \"100%\", padding: \"2%\" }}>\n                {enrollRequestLength===0 && <div>No New Enroll Request's</div>}\n                {enrollRequests.map((request, key) => {\n                    return (\n                        <div key={key} style={{ borderBottom: \"2px solid grey\", width: \"100%\", marginBottom: \"10px\" }}>\n                            <b>Request No. - </b> {request.requestNo} <br />\n                            <b>Name - </b> {request.name}    <br />\n                            <b>Age - </b> {request.age} <br />\n                            <b>Username - </b> {request.username} <br />\n                            <b>Password - </b> {request.password}  <br />\n                            <b>Courses To be Enrolled In :- </b> {request.coursesToBeEnrolledIn.map((course, key) => {\n                                return (\n                                    <div key={key} style={{marginLeft:\"13%\"}}>\n                                        {key+1}. {course} \n                                    </div>\n                                )\n                            })}\n                            <Button variant=\"contained\" \n                                style={{marginRight:\"2%\",marginBottom:\"2%\", marginTop:\"1%\"}}\n                                onClick={()=>handleApprove(request.requestNo)}\n                                >Approve</Button>\n                            <Button variant=\"contained\" \n                                style={{marginBottom:\"2%\", marginTop:\"1%\"}}\n                                onClick={()=>handleApprove(request.requestNo)}\n                                >Discard</Button>\n                            \n                        </div>\n                    )\n                })}\n\n\n\n\n            </div>\n        </>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}